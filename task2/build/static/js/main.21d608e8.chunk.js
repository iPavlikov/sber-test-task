(this["webpackJsonpcurrency-converter"]=this["webpackJsonpcurrency-converter"]||[]).push([[0],[,,,,,,,,,,,,function(e,t,a){e.exports=a(26)},,,,,function(e,t,a){},,function(e,t,a){},function(e,t,a){},function(e,t,a){},,,function(e,t,a){},function(e,t,a){},function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),c=a(5),l=a.n(c),o=(a(17),a(3)),u=a.n(o),s=a(9),i=a(6),f=a(10),m=a(7),d=a.n(m);a(19);function b(){return r.a.createElement("header",{className:"Header"},"Currency")}a(20);function E(e){var t=e.usd,a=e.eur;return r.a.createElement("tr",{className:"TableRow"},r.a.createElement("td",{className:"TableRow__col"},"\u20bd ",t),r.a.createElement("td",{className:"TableRow__col"},"\u20bd ",a))}a(21);function p(e){var t=e.rates;return r.a.createElement("table",{className:"Table"},r.a.createElement("thead",{className:"Table__head"},r.a.createElement("tr",{className:"Table__headRow"},r.a.createElement("td",{className:"Table__headCol"},"USD"),r.a.createElement("td",{className:"Table__headCol"},"EUR"))),r.a.createElement("tbody",null,t.map((function(e){return r.a.createElement(E,{key:e.id,usd:e.usd,eur:e.eur})}))))}var h=a(11),v=a(8),w=a.n(v);a(24);function _(e){var t=e.rates,a=Object(n.useRef)(null),c=Object(n.useRef)(null);return Object(n.useEffect)((function(){return c.current=new w.a(a.current,{type:"line",data:{datasets:[{label:"USD",data:[],fill:!1},{label:"EUR",data:[],fill:!1}]},options:{animation:{duration:0}}}),function(){return c.current.destroy()}}),[]),Object(n.useEffect)((function(){c.current.data=Object(h.a)({},c.current.data,{labels:t.labels,datasets:[{label:"USD",data:t.usd,fill:!1,borderColor:"#b300b3"},{label:"EUR",data:t.eur,fill:!1,borderColor:"#00b300"}]}),c.current.update()}),[t]),r.a.createElement("canvas",{className:"Chart",ref:a})}a(25);var R=function(){var e=Object(n.useState)([]),t=Object(f.a)(e,2),a=t[0],c=t[1],l=Object(n.useRef)(0),o=function(){var e=Object(i.a)(u.a.mark((function e(){var t,n,r,o;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch("https://api.exchangeratesapi.io/latest?base=RUB&symbols=USD,EUR").then((function(e){return e.json()})).then((function(e){return e.rates})).catch((function(){console.error("API is not available")}));case 2:t=e.sent,n=t.USD,r=t.EUR,o=a.length>9?a.slice(1):a,c([].concat(Object(s.a)(o),[{id:l.current,timestamp:Date.now(),usd:m(n),eur:m(r)}])),l.current++;case 8:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),m=function(e){return(1/e).toFixed(2)},E={labels:a.map((function(e){return d()(e.timestamp).format("HH:mm")})),usd:a.map((function(e){return e.usd})),eur:a.map((function(e){return e.eur}))};return function(e,t){var a=Object(n.useRef)();Object(n.useEffect)((function(){a.current=e}),[e]),Object(n.useEffect)((function(){if(null!==t){var e=setInterval((function(){a.current()}),t);return function(){return clearInterval(e)}}}),[t])}(o,6e3),r.a.createElement("div",{className:"App Container"},r.a.createElement(b,null),r.a.createElement("div",{className:"App__content Row"},r.a.createElement("div",{className:"Col Col_4"},r.a.createElement(p,{rates:a})),r.a.createElement("div",{className:"Col Col_8"},r.a.createElement(_,{rates:E}))))};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));l.a.render(r.a.createElement(r.a.StrictMode,null,r.a.createElement(R,null)),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))}],[[12,1,2]]]);
//# sourceMappingURL=main.21d608e8.chunk.js.map